# 🔧 Firebase 配置助手

## 📝 当前状态检查

根据检查，你需要完成以下配置：

### ❌ 需要创建的文件：
1. `frontend/.env` - 前端环境变量
2. `backend/.env` - 后端环境变量  
3. `backend/firebase-service-account.json` - Firebase 服务账号密钥

---

## 🚀 快速开始

### 步骤 1: 打开 Firebase Console
访问：https://console.firebase.google.com/

### 步骤 2: 按照以下顺序操作

我会创建一个交互式配置脚本，但首先你需要：

1. **创建 Firebase 项目**（如果还没有）
2. **启用 Email/Password 认证**
3. **获取前端配置信息**
4. **下载服务账号密钥**

---

## 📋 详细步骤（按顺序执行）

### 第一步：创建/选择 Firebase 项目

1. 访问 https://console.firebase.google.com/
2. 点击「添加项目」
3. 输入项目名称（例如：`resrv-app`）
4. 完成创建

### 第二步：启用 Authentication

1. 在左侧菜单点击「Authentication」
2. 点击「Get started」
3. 点击「Sign-in method」标签
4. 点击「Email/Password」
5. **启用第一个开关**
6. 点击「Save」

### 第三步：获取前端配置

1. 点击左侧的**齿轮图标**（项目设置）
2. 向下滚动到「你的应用」
3. 点击 **Web 图标** (`</>`)
4. 输入应用名称（例如：`Resrv Web`）
5. 点击「注册应用」
6. **复制显示的配置对象**

配置对象格式：
```javascript
{
  apiKey: "AIza...",
  authDomain: "...",
  projectId: "...",
  storageBucket: "...",
  messagingSenderId: "...",
  appId: "..."
}
```

### 第四步：创建前端 .env 文件

在 `frontend` 目录下创建 `.env` 文件，内容如下：

```env
VITE_FIREBASE_API_KEY=在这里填入你的apiKey
VITE_FIREBASE_AUTH_DOMAIN=在这里填入你的authDomain
VITE_FIREBASE_PROJECT_ID=在这里填入你的projectId
VITE_FIREBASE_STORAGE_BUCKET=在这里填入你的storageBucket
VITE_FIREBASE_MESSAGING_SENDER_ID=在这里填入你的messagingSenderId
VITE_FIREBASE_APP_ID=在这里填入你的appId

VITE_API_BASE=http://localhost:8000
```

**将第三步复制的值填入对应的位置！**

### 第五步：获取后端服务账号密钥

1. 在 Firebase Console 中，点击**齿轮图标**（项目设置）
2. 切换到「**服务账号**」标签页
3. 点击「**生成新的私钥**」
4. 确认对话框，点击「生成密钥」
5. 浏览器会下载一个 JSON 文件
6. 将文件**重命名**为：`firebase-service-account.json`
7. 将文件**移动**到 `backend` 目录

### 第六步：创建后端 .env 文件

在 `backend` 目录下创建 `.env` 文件，内容如下：

```env
FIREBASE_CREDENTIALS_PATH=./firebase-service-account.json
DATABASE_URL=sqlite:///./resrv.db
```

---

## ✅ 验证配置

配置完成后，运行以下命令验证：

### 测试后端：
```bash
cd backend
uvicorn main:app --reload
```

应该看到：
```
✅ Firebase Admin SDK 已初始化（使用服务账号文件）
```

### 测试前端：
```bash
cd frontend
npm run dev
```

打开浏览器访问 `http://localhost:5173`，应该没有错误。

---

## 🆘 需要帮助？

如果你在某个步骤遇到问题，告诉我：
1. 你在哪一步？
2. 遇到了什么错误？
3. 我可以帮你解决！

